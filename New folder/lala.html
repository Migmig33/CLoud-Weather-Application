<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CLoudBot Weather Chat</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
    body {
        font-family: Arial, sans-serif;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        background: #f4f4f4;
    }

    #chat-container {
        width: 400px;
        background: white;
        border-radius: 10px;
        box-shadow: 0 0 10px rgba(0,0,0,0.2);
        display: flex;
        flex-direction: column;
    }

    /* Chatlog area */
    .CLoudBot-chatlog {
        flex: 1;
        height: 400px;
        overflow-y: auto;
        padding: 10px;
        background: #f9f9f9;
        border-bottom: 1px solid #ddd;
        display: flex;
        flex-direction: column;
    }

    /* Bot messages */
    .CLoudBotresponses {
        display: flex;
        align-items: flex-start;
        gap: 10px;
        background: #e5e5ea;
        padding: 8px 12px;
        border-radius: 10px;
        margin: 5px 0;
        max-width: 80%;
        color: #000;
    }

    .CLoudBotresponses i {
        font-size: 20px;
        color: #555;
    }

    /* User messages */
    .UserMessage {
        background: #0084ff;
        color: white;
        padding: 8px 12px;
        border-radius: 10px;
        margin: 5px 0;
        max-width: 80%;
        align-self: flex-end;
    }

    /* Input area */
    #input-container {
        display: flex;
        border-top: 1px solid #ddd;
        padding: 10px;
        gap: 5px;
    }

    select {
        flex: 1;
        padding: 8px;
        border-radius: 5px;
        border: 1px solid #ccc;
    }

    button {
        padding: 8px 12px;
        border: none;
        background: #0084ff;
        color: white;
        border-radius: 5px;
        cursor: pointer;
    }

    button:hover {
        background: #006bbf;
    }
</style>
</head>
<body>

<div id="chat-container">
    <!-- Chat log -->
    <div class="CLoudBot-chatlog" id="chat-log">
        <div class="CLoudBotresponses">
            <i class="fa-solid fa-robot"></i>
            <p>Hi! I‚Äôm CLoudBot ‚òÅÔ∏è. Choose a location to get the latest weather update!</p>
        </div>
    </div>

    <!-- Input -->
    <div id="input-container">
        <select id="user-select">
            <option value="">-- Select a location --</option>
            <option value="Manila">Manila</option>
            <option value="Cebu">Cebu</option>
            <option value="Davao">Davao</option>
        </select>
        <button id="send-btn">Send</button>
    </div>
</div>

<script>
    const chatLog = document.getElementById('chat-log');
    const userSelect = document.getElementById('user-select');
    const sendBtn = document.getElementById('send-btn');

    // Append bot message
    function appendBotMessage(message) {
        const botDiv = document.createElement('div');
        botDiv.classList.add('CLoudBotresponses');
        botDiv.innerHTML = `
            <i class="fa-solid fa-robot"></i>
            <p>${message}</p>
        `;
        chatLog.appendChild(botDiv);
        chatLog.scrollTop = chatLog.scrollHeight;
    }

    // Append user message
    function appendUserMessage(message) {
        const userDiv = document.createElement('div');
        userDiv.classList.add('UserMessage');
        userDiv.innerHTML = `<p>${message}</p>`;
        chatLog.appendChild(userDiv);
        chatLog.scrollTop = chatLog.scrollHeight;
    }

    // Weather data (sample)
    function getWeather(location) {
        const weatherData = {
            "Manila": "üåû Manila is sunny today, around 32¬∞C.",
            "Cebu": "üå¶Ô∏è Cebu has light rain and 30¬∞C.",
            "Davao": "‚õÖ Davao is partly cloudy, 31¬∞C."
        };
        return weatherData[location] || "Sorry, I don't have weather info for that place.";
    }

    // Send message
    function sendMessage() {
        const location = userSelect.value;
        if (!location) return;
        appendUserMessage(location);
        userSelect.value = "";

        setTimeout(() => {
            const reply = getWeather(location);
            appendBotMessage(reply);
        }, 600);
    }

    sendBtn.addEventListener('click', sendMessage);
</script>

</body>
</html>
